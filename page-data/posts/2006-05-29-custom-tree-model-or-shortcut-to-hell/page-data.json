{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/2006-05-29-custom-tree-model-or-shortcut-to-hell","webpackCompilationHash":"8d908ede69ed6f3b9999","result":{"data":{"site":{"siteMetadata":{"title":"Excursion in Distraction","author":"@dsvensson"}},"markdownRemark":{"html":"<p>Over the last couple of months I’ve been reading <a href=\"https://github.com/pvanhoof\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">pvanhoof</a>’s blog about his email reader called tinymail. I think he did the first posts about 3 million row treeview before christmas last year, and ever since I’ve been determined to get my hands dirty with the feared <code class=\"language-text\">GtkTreeView</code> widget.</p>\n<p>Earlier this week, ehm last week (past midnight it seems), I started writing on what has now become a custom tree model specialized for XMMS2 metadata.</p>\n<p><code class=\"language-text\">GtkTreeView</code> is a jungle. I almost gave up because of the dangerously high risk of brain-damage when working with <code class=\"language-text\">GtkTreeView</code>, but the people at <code class=\"language-text\">#gtk+</code> were helpful and about half an hour ago I finally managed to get it right.</p>\n<p>There are still some bugs I have to take care of before letting it loose for client writers to use and abuse, but all the basics are there. It takes about 2 seconds to populate about 7500 rows of medialib IDs and I think I know of a couple of places where speed could be noticeably improved. Another issue is the speed of resolving. When scrolling the list you see the entries resolve. It would be nice if the model could keep the 10 entries above and below the visible entries in memory. Have to look into that later.</p>\n<p>This is also the first project I’ve written using Gob2, <em>The GObject Builder</em>, which is an object oriented language around <code class=\"language-text\">C</code> which you compile to regular <code class=\"language-text\">C</code>-sources later. It has been such a delight to use Gob2. You don’t have to edit header files as you change your API, all the boilerplate code gets generated and you have nice macros for dealing with the common stuff. It also gives a much clearer view of the code. Another plus is that it’s possible to generate <code class=\"language-text\">C++</code> code too. Gob2 is definitely the tool to use when writing GObjects.</p>\n<p>The dynamic loading tree view model is also a part of my grand plans for a DJ application which I’m now thinking about writing in <code class=\"language-text\">C++</code> using <a href=\"https://www.gtkmm.org/en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gtkmm</a> as GUI toolkit. Andreas emailed me his phase vocoder some days ago and <a href=\"https://github.com/juhovh\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">juhovh</a> has been working on integrating it into XMMS2, and nailing the last bugs. With the phase vocoder in XMMS2, the last piece is in place and using XMMS2 as a DJ backend is suddenly not so far away.</p>\n<p>The Hercules DJ Console works like a charm these days and I’ve been hacking on some ALSA sequencer GLib <code class=\"language-text\">GMainLoop</code> integration lately. When that has been accomplished it’s just loads and loads of gui code to write, but with just one week left of school and 3 months of nothingness ahead of me, it might just happen.</p>","fields":{"slug":"posts/2006-05-29-custom-tree-model-or-shortcut-to-hell","readingTime":{"text":"3 min read"}},"frontmatter":{"title":"Custom Tree Model, or shortcut to hell","date":"29 May '06"}},"headerImage":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='400' height='27'%3e%3cpath d='M2 1L1 13l-1 6c0 4 0 4 3 4 2 0 2 0 1 1H1l-1 1c0 2 3 2 15 2h14v-5c0-5-1-6-3-4v3c0 1-2 2-5 2l-4 1-2 1-2-1c0-2 6-4 9-4 3 1 3-1-1-2-3 0-1-2 4-2 3 0 4-1 4-3l-1-3H16C5 10 5 10 5 3c0-3-2-4-3-2m32 13v13h9c7 0 9 0 9-2 0 0-1-2-3-2-3-1-3-1-2-8V9h-3l-4 1V5c0-5 0-5-3-5h-2l-1 14m20-2v11h4c3 0 4 0 5 2 0 2 1 2 14 2 16 0 15 1 15-11 0-8 1-12 3-12l1 10c0 6 0 9 1 8 1-2 1-2 1 0 1 1 1 2 2 1l2 1 1 2V4c0-3-1-4-6-4-6 0-6 0-5 2 0 4-8 7-20 7h-9V0h-9v12m57-5c-1 8 0 14 4 17v1l-2 1 14 1 14-1h2l10 1c11 0 11 1 11-22V0l-2 3-2 4c1 1 0 1-3 1l-7 1-5-1c-3-3-2-5 1-5l3-1h-3l-3-1-2-1-1 1c1 0-1 3-3 3l-3-2c-3-2-4-2-9-2h-11c-3 0-3 0-3 7m68-4c0 3 0 3 2 1 0-1 2-2 3-1 1 0 1 1-1 3-2 1-2 2-1 2v1l-1 3c0 1-1 2-2 1v6c0 1 1 2 5 2 7 2 8 2 2 2l-6 1h2l3 1c0 1 2 2 10 2 9 0 10 0 10-2 0-1 1-2 3-2h3V0h-33l1 3m36-2c-2 2 0 26 1 26v-1c0-2 1-2 3 0l9 1h8l-2-3-1-2c1-1-6-14-7-13-2 1-5-1-5-5-1-3-1-3-2-1l-1 3V3c0-2-2-4-3-2m99 0c-1 2 3 8 5 9v3l-1-1-2-1 1 2v2c-2 1-2 1-2-1s0-2-1-1h-2l-1 2 1 2 1-1h1l-1 2-1 3-2-3c-2-2-7-2-5 0h2l1 1-3 1c-2 0-2 0-2 2l1 3c0 2 1 2 48 2h48V15c0-10 0-11-2-11-1 0-2 0-2-2 0-3-9-3-11 0v2h-1l-1 1c-1 1-1 0-1-2 1-4-1-4-2 0 0 2-1 2-1 1V2c0-2 0-2-1-1l-2 1c1 4-1 6-4 5-4 0-6-2-3-2 2 0 2 0 1-1-2 0-2-1-1-2l2 1c0 2 1 1 3-1 1-2 0-2-3-2l-7 2c-2 1-2 2-1 2h2l-2 1-2 2 2 1c2-1 4 0 4 2l-5 1-6 1h-1l2-2 1-2-2-4V0h-9c-9 0-10 0-10 2l-1 3V2c0-2-1-2-3-2l-3 1h-2c-2-1-7-1-7 1l1 1v1c0 2-2 0-2-2s-5-3-6-1m-44 7l-1 1c-1-1-1 1-1 3 0 4 0 4-1 1 0-3-1-3-5-4l-6-1c-1 0-1 4 1 10l2 6c1 3 1 3 11 3 7 0 9 0 9-2v-3l-2-2-2-5-3-5c-1-4-2-5-2-2' fill='%23d3d3d3' fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":14.867924528301886,"src":"/static/843c5f7defd25c41f8cae57182fd6f1f/1bdc6/wastelands-header.jpg","srcSet":"/static/843c5f7defd25c41f8cae57182fd6f1f/accda/wastelands-header.jpg 200w,\n/static/843c5f7defd25c41f8cae57182fd6f1f/fc61b/wastelands-header.jpg 400w,\n/static/843c5f7defd25c41f8cae57182fd6f1f/1bdc6/wastelands-header.jpg 800w,\n/static/843c5f7defd25c41f8cae57182fd6f1f/34bdc/wastelands-header.jpg 1200w,\n/static/843c5f7defd25c41f8cae57182fd6f1f/bdccb/wastelands-header.jpg 1600w,\n/static/843c5f7defd25c41f8cae57182fd6f1f/0ffcb/wastelands-header.jpg 3940w","sizes":"(max-width: 800px) 100vw, 800px"}}},"indexImage":null},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"posts/2006-05-29-custom-tree-model-or-shortcut-to-hell","previous":null,"next":{"fields":{"slug":"posts/2006-05-31-phase-vocoder-hooray"},"frontmatter":{"title":"Phase Vocoder! Hooray!"}}}}}